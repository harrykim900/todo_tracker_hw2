{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Harry\\\\Documents\\\\SBU\\\\CSE316\\\\todo_tracker_hw2\\\\src\\\\App.js\";\n// IMPORT ALL THE THINGS NEEDED FROM OTHER JAVASCRIPT SOURCE FILES\nimport React, { Component } from 'react';\nimport testData from './test/testData.json';\nimport jsTPS from './common/jsTPS'; // THESE ARE OUR REACT COMPONENTS\n\nimport Navbar from './components/Navbar';\nimport LeftSidebar from './components/LeftSidebar';\nimport Workspace from './components/Workspace';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n{\n  /*import ItemsListHeaderComponent from './components/ItemsListHeaderComponent'\r\n  import ItemsListComponent from './components/ItemsListComponent'\r\n  import ListsComponent from './components/ListsComponent'\r\n  */\n}\n\nclass App extends Component {\n  constructor(props) {\n    // ALWAYS DO THIS FIRST\n    super(props); // DISPLAY WHERE WE ARE\n\n    this.loadToDoList = toDoList => {\n      console.log(\"loading \" + toDoList);\n      console.log(\"Current list: \" + this.state.currentList); // MAKE SURE toDoList IS AT THE TOP OF THE STACK BY REMOVING THEN PREPENDING\n\n      const nextLists = this.state.toDoLists.filter(testList => testList.id !== toDoList.id);\n      nextLists.unshift(toDoList);\n      this.setState({\n        toDoLists: nextLists,\n        currentList: toDoList\n      });\n    };\n\n    this.addNewList = () => {\n      console.log(\"Added new list\");\n      let newToDoListInList = [this.makeNewToDoList()];\n      let newToDoListsList = [...newToDoListInList, ...this.state.toDoLists];\n      let newToDoList = newToDoListInList[0]; // AND SET THE STATE, WHICH SHOULD FORCE A render\n\n      this.setState({\n        toDoLists: newToDoListsList,\n        currentList: newToDoList,\n        nextListId: this.state.nextListId + 1\n      }, this.afterToDoListsChangeComplete);\n    };\n\n    this.addNewToDoListItem = () => {\n      console.log(\"Current list \" + this.props.currentList);\n\n      if (this.props.currentList == null) {\n        return;\n      } else {\n        console.log(\"Adding new list item\");\n        let newToDoListItem = [this.makeNewToDoListItem()];\n        this.state.currentList.items.push(newToDoListItem);\n        this.setState({});\n      }\n    };\n\n    this.makeNewToDoList = () => {\n      let newToDoList = {\n        id: this.highListId,\n        name: 'Untitled',\n        items: []\n      };\n      return newToDoList;\n    };\n\n    this.makeNewToDoListItem = () => {\n      let newToDoListItem = {\n        description: \"No Description\",\n        dueDate: \"none\",\n        status: \"incomplete\"\n      };\n      return newToDoListItem;\n    };\n\n    this.afterToDoListsChangeComplete = () => {\n      console.log(\"App updated currentToDoList: \" + this.state.currentList); // WILL THIS WORK? @todo\n\n      let toDoListsString = JSON.stringify(this.state.toDoLists);\n      localStorage.setItem(\"recent_work\", toDoListsString);\n    };\n\n    this.deleteList = () => {\n      console.log(\"reached deleteList()\");\n    };\n\n    this.closeList = () => {\n      console.log(\"Reached closeList()\");\n      this.setState({\n        toDoLists: recentLists,\n        currentList: {\n          items: []\n        },\n        nextListId: highListId + 1,\n        nextListItemId: highListItemId + 1,\n        useVerboseFeedback: true\n      });\n    };\n\n    console.log(\"App constructor\"); // MAKE OUR TRANSACTION PROCESSING SYSTEM\n\n    this.tps = new jsTPS(); // CHECK TO SEE IF THERE IS DATA IN LOCAL STORAGE FOR THIS APP\n\n    let _recentLists = localStorage.getItem(\"recentLists\");\n\n    console.log(\"recentLists: \" + _recentLists);\n\n    if (!_recentLists) {\n      _recentLists = JSON.stringify(testData.toDoLists);\n      localStorage.setItem(\"toDoLists\", _recentLists);\n    }\n\n    _recentLists = JSON.parse(_recentLists); // FIND OUT WHAT THE HIGHEST ID NUMBERS ARE FOR LISTS\n\n    let _highListId = -1;\n\n    let _highListItemId = -1;\n\n    for (let i = 0; i < _recentLists.length; i++) {\n      let toDoList = _recentLists[i];\n\n      if (toDoList.id > _highListId) {\n        _highListId = toDoList.id;\n      }\n\n      for (let j = 0; j < toDoList.items.length; j++) {\n        let toDoListItem = toDoList.items[j];\n        if (toDoListItem.id > _highListItemId) _highListItemId = toDoListItem.id;\n      }\n    }\n\n    ; // SETUP OUR APP STATE\n\n    this.state = {\n      toDoLists: _recentLists,\n      currentList: {\n        items: []\n      },\n      nextListId: _highListId + 1,\n      nextListItemId: _highListItemId + 1,\n      useVerboseFeedback: true\n    };\n  } // WILL LOAD THE SELECTED LIST\n\n\n  render() {\n    let items = this.state.currentList.items;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"root\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LeftSidebar, {\n        toDoLists: this.state.toDoLists,\n        loadToDoListCallback: this.loadToDoList,\n        addNewListCallback: this.addNewList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Workspace, {\n        toDoListItems: items,\n        addNewToDoListItemCallback: this.addNewToDoListItem,\n        deleteListCallback: this.deleteList,\n        closeListCallback: this.closeList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Harry/Documents/SBU/CSE316/todo_tracker_hw2/src/App.js"],"names":["React","Component","testData","jsTPS","Navbar","LeftSidebar","Workspace","App","constructor","props","loadToDoList","toDoList","console","log","state","currentList","nextLists","toDoLists","filter","testList","id","unshift","setState","addNewList","newToDoListInList","makeNewToDoList","newToDoListsList","newToDoList","nextListId","afterToDoListsChangeComplete","addNewToDoListItem","newToDoListItem","makeNewToDoListItem","items","push","highListId","name","description","dueDate","status","toDoListsString","JSON","stringify","localStorage","setItem","deleteList","closeList","recentLists","nextListItemId","highListItemId","useVerboseFeedback","tps","getItem","parse","i","length","j","toDoListItem","render"],"mappings":"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","sourcesContent":["// IMPORT ALL THE THINGS NEEDED FROM OTHER JAVASCRIPT SOURCE FILES\r\nimport React, { Component } from 'react';\r\nimport testData from './test/testData.json'\r\nimport jsTPS from './common/jsTPS'\r\n\r\n// THESE ARE OUR REACT COMPONENTS\r\nimport Navbar from './components/Navbar'\r\nimport LeftSidebar from './components/LeftSidebar'\r\nimport Workspace from './components/Workspace'\r\n{/*import ItemsListHeaderComponent from './components/ItemsListHeaderComponent'\r\nimport ItemsListComponent from './components/ItemsListComponent'\r\nimport ListsComponent from './components/ListsComponent'\r\n*/}\r\nclass App extends Component {\r\n  constructor(props) {\r\n    // ALWAYS DO THIS FIRST\r\n    super(props);\r\n\r\n    // DISPLAY WHERE WE ARE\r\n    console.log(\"App constructor\");\r\n\r\n    // MAKE OUR TRANSACTION PROCESSING SYSTEM\r\n    this.tps = new jsTPS();\r\n\r\n    // CHECK TO SEE IF THERE IS DATA IN LOCAL STORAGE FOR THIS APP\r\n    let recentLists = localStorage.getItem(\"recentLists\");\r\n    console.log(\"recentLists: \" + recentLists);\r\n    if (!recentLists) {\r\n      recentLists = JSON.stringify(testData.toDoLists);\r\n      localStorage.setItem(\"toDoLists\", recentLists);\r\n    }\r\n    recentLists = JSON.parse(recentLists);\r\n\r\n    // FIND OUT WHAT THE HIGHEST ID NUMBERS ARE FOR LISTS\r\n    let highListId = -1;\r\n    let highListItemId = -1;\r\n    for (let i = 0; i < recentLists.length; i++) {\r\n      let toDoList = recentLists[i];\r\n      if (toDoList.id > highListId) {\r\n        highListId = toDoList.id;\r\n      }\r\n      for (let j = 0; j < toDoList.items.length; j++) {\r\n        let toDoListItem = toDoList.items[j];\r\n        if (toDoListItem.id > highListItemId)\r\n        highListItemId = toDoListItem.id;\r\n      }\r\n    };\r\n\r\n    // SETUP OUR APP STATE\r\n    this.state = {\r\n      toDoLists: recentLists,\r\n      currentList: {items: []},\r\n      nextListId: highListId+1,\r\n      nextListItemId: highListItemId+1,\r\n      useVerboseFeedback: true\r\n    }\r\n  }\r\n\r\n  // WILL LOAD THE SELECTED LIST\r\n  loadToDoList = (toDoList) => {\r\n    console.log(\"loading \" + toDoList);\r\n    console.log(\"Current list: \" + this.state.currentList);\r\n\r\n    // MAKE SURE toDoList IS AT THE TOP OF THE STACK BY REMOVING THEN PREPENDING\r\n    const nextLists = this.state.toDoLists.filter(testList =>\r\n      testList.id !== toDoList.id\r\n    );\r\n    nextLists.unshift(toDoList);\r\n\r\n    this.setState({\r\n      toDoLists: nextLists,\r\n      currentList: toDoList\r\n    });\r\n  }\r\n\r\n  addNewList = () => {\r\n    console.log(\"Added new list\");\r\n    let newToDoListInList = [this.makeNewToDoList()];\r\n    let newToDoListsList = [...newToDoListInList, ...this.state.toDoLists];\r\n    let newToDoList = newToDoListInList[0];\r\n\r\n    // AND SET THE STATE, WHICH SHOULD FORCE A render\r\n    this.setState({\r\n      toDoLists: newToDoListsList,\r\n      currentList: newToDoList,\r\n      nextListId: this.state.nextListId+1\r\n    }, this.afterToDoListsChangeComplete);\r\n  }\r\n\r\n  addNewToDoListItem = () => {\r\n    console.log(\"Current list \" + this.props.currentList);\r\n    if (this.props.currentList == null){\r\n      return;\r\n    }\r\n    else{\r\n      console.log(\"Adding new list item\");\r\n\r\n      let newToDoListItem = [this.makeNewToDoListItem()];\r\n      this.state.currentList.items.push(newToDoListItem);\r\n\r\n      this.setState({\r\n\r\n      })\r\n    }\r\n  }\r\n  \r\n\r\n  makeNewToDoList = () => {\r\n    let newToDoList = {\r\n      id: this.highListId,\r\n      name: 'Untitled',\r\n      items: []\r\n    };\r\n    return newToDoList;\r\n  }\r\n\r\n  makeNewToDoListItem = () =>  {\r\n    let newToDoListItem = {\r\n      description: \"No Description\",\r\n      dueDate: \"none\",\r\n      status: \"incomplete\"\r\n    };\r\n    return newToDoListItem;\r\n  }\r\n\r\n  // THIS IS A CALLBACK FUNCTION FOR AFTER AN EDIT TO A LIST\r\n  afterToDoListsChangeComplete = () => {\r\n    console.log(\"App updated currentToDoList: \" + this.state.currentList);\r\n\r\n    // WILL THIS WORK? @todo\r\n    let toDoListsString = JSON.stringify(this.state.toDoLists);\r\n    localStorage.setItem(\"recent_work\", toDoListsString);\r\n  }\r\n\r\n  deleteList = () => {\r\n    console.log(\"reached deleteList()\");\r\n  }\r\n\r\n  closeList = () => {\r\n    console.log(\"Reached closeList()\")\r\n    this.setState({\r\n      toDoLists: recentLists,\r\n      currentList: {items: []},\r\n      nextListId: highListId+1,\r\n      nextListItemId: highListItemId+1,\r\n      useVerboseFeedback: true\r\n\r\n    });\r\n\r\n  }\r\n\r\n  render() {\r\n    let items = this.state.currentList.items;\r\n    return (\r\n      <div id=\"root\">\r\n        <Navbar />\r\n        <LeftSidebar \r\n          toDoLists={this.state.toDoLists}\r\n          loadToDoListCallback={this.loadToDoList}\r\n          addNewListCallback={this.addNewList}\r\n        />\r\n        <Workspace toDoListItems={items} \r\n          addNewToDoListItemCallback={this.addNewToDoListItem}\r\n          deleteListCallback={this.deleteList}\r\n          closeListCallback={this.closeList}\r\n          />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}